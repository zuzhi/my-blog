{:title "Omarchy è®¾ç½®ä¸­æ–‡è¾“å…¥æ³•"
 :layout :post
 :slug "omarchy-rime"
 :draft false
 }

åœ¨ä½¿ç”¨ [Omarchy](https://omarchy.org/) çš„ç¬¬106å¤©ï¼Œæˆ‘å†³å®šå®‰è£…ä¸­æ–‡è¾“å…¥æ³•ã€‚

> ç ”ç©¶äº†ä¸€ä¸‹è¦èƒ½å¤Ÿè¾“å…¥ä¸­æ–‡ï¼Œå¤§æ¦‚éœ€è¦ä¸‰ä¸ªä¸œè¥¿ï¼Œè¾“å…¥æ³•æ¡†æ¶ï¼ˆInput Method Framework, IMFï¼‰ã€è¾“å…¥æ³•å¼•æ“ï¼ˆInput Method or Input Method Engine/Editor, IMEï¼‰å’Œè¾“å…¥æ³•æ–¹æ¡ˆï¼ˆInput Method Schemeï¼‰ã€‚

Omarchy é»˜è®¤å®‰è£…äº† Fcitx5ï¼Œä¹Ÿå°±æ˜¯è¾“å…¥æ³•æ¡†æ¶ï¼Œä½†æ˜¯ Fcitx5 åªæ˜¯ä¸€ä¸ªåŸºç¡€çš„æ¡†æ¶ï¼Œä»…æ”¯æŒè‹±æ–‡ã€‚

## Rime è¾“å…¥æ³•

è¦è¾“å…¥å…¶ä»–è¯­è¨€ï¼Œè¿˜éœ€è¦å®‰è£…è¾“å…¥æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬å¯¹åº”å®‰è£… `fcitx5-rime` å³å¯ã€‚

æ¥ä¸‹æ¥æ˜¯é…ç½® Fcitx5 æŠŠåˆšå®‰è£…çš„ Rime è¾“å…¥æ³•æ·»åŠ åˆ°å½“å‰çš„è¾“å…¥æ³•åˆ—è¡¨ä¸­ã€‚Fcitx5 çš„é…ç½®æ–‡ä»¶åœ¨ `~/.config/fcitx5` ç›®å½•ä¸‹(ç³»ç»Ÿæ‰˜ç›˜é‡Œæœ‰ä¸ªé”®ç›˜å›¾æ ‡ï¼Œå³é”®å¯ä»¥çœ‹åˆ°ä¸€ä¸ªèœå•ï¼Œç‚¹å‡» Configure ä¹‹åé»˜è®¤ä¼šæ‰“å¼€è¿™ä¸ªé…ç½®ç›®å½•)ï¼Œä½†æ˜¯é€šè¿‡ GUI å·¥å…·æ¥é…ç½®ä¼šæ›´æ–¹ä¾¿äº›ï¼Œæ‰€ä»¥å†å®‰è£…ä¸€ä¸ª `fcitx5-configtool`ï¼Œæ‰“å¼€ä¹‹åä»å³è¾¹æ‰¾åˆ° Rime æ·»åŠ åˆ°å·¦è¾¹ï¼Œä¿å­˜ä¹‹åå°±æœ‰ Rime è¾“å…¥æ³•å¯ä»¥ç”¨äº†ã€‚

å½“ç„¶æˆ‘ä»¬è¿˜éœ€è¦ä¸­æ–‡å­—ä½“ï¼Œä¸è¿‡ Omarchy é»˜è®¤å®‰è£…äº† `noto-fonts-cjk`ï¼Œæ‰€ä»¥è¿™ä¸€æ­¥å¯ä»¥çœç•¥ã€‚

>  ä¸è¿‡è¿™ä¸ªå­—ä½“ä¼¼ä¹æœ‰ç‚¹é—®é¢˜ï¼Œæ¯”å¦‚â€œå¤æ‚â€çš„â€œå¤â€å­—æ˜¾ç¤ºå‡ºæ¥å¾ˆçª„ï¼Œè¿˜æœ‰çœ‹èµ·æ¥å¾ˆå¥‡æ€ªçš„â€œé—¨â€å­—ã€‚å¯ä»¥é‡æ–°å®‰è£…ä¸€ä¸ªå­—ä½“ï¼Œæ¯”å¦‚ `adobe-source-han-sans-cn-fonts` å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚

ä½¿ç”¨å¿«æ·é”® `Ctrl+SPACE` æ¥åˆ‡æ¢è‹±æ–‡å’Œä¸­æ–‡è¾“å…¥æ³•ï¼Œä¸­æ–‡é»˜è®¤æ˜¯æœ™æœˆæ‹¼éŸ³(æ˜æœˆæ‹¼éŸ³)ã€‚

## è¿›ä¸€æ­¥é…ç½®

### è®¾ç½®ç®€ä½“å­—

ç›´æ¥ä½¿ç”¨çš„è¯ï¼Œä½ æœƒç™¼ç¾è¼¸å…¥çš„æ˜¯ç¹é«”å­—ï¼Œä½¿ç”¨å¿«æ·éµ `Ctrl+`` å¯ä»¥èª¿èµ·æ–¹æ¡ˆé€‰å•ï¼Œå¯ä»¥æ”¹ä¸ºç®€ä½“å­—ã€‚

### åŒæ‹¼

æˆ‘åœ¨ macOS é‡Œä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ç®€ä½“åŒæ‹¼ï¼Œä¹ æƒ¯ä½¿ç”¨åŒæ‹¼ä¹‹åå°±ä¸æƒ³/ä¸èƒ½ç”¨å›å…¨æ‹¼äº†ï¼Œä¸€æ–¹é¢æ˜¯åœ¨ç†Ÿç»ƒçš„æƒ…å†µä¸‹ï¼ŒåŒæ‹¼ä¼šæ›´é«˜æ•ˆï¼Œæ•²å‡»æ›´å°‘çš„æŒ‰é”®çš„æ„Ÿè§‰å¾ˆå¥½ï¼Œå¦ä¸€æ–¹é¢æ˜¯ä¹ æƒ¯åŒæ‹¼ä¹‹åï¼Œå…¨æ‹¼çš„æŠ€èƒ½ä¼šé€€åŒ–ğŸ˜‚ï¸ï¼Œä¼šä¸è‡ªè§‰çš„æŒ‰ç…§åŒæ‹¼æ¥æ•²ã€‚

åŒæ‹¼éœ€è¦å®‰è£… `rime-double-pinyin`ï¼Œç„¶ååœ¨ `~/.local/share/fcitx5/rime` ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ª `default.custom.yaml` æ–‡ä»¶ï¼Œå¡«å†™å¦‚ä¸‹å†…å®¹ï¼š

```yaml
patch:
  schema_list:
    - schema: double_pinyin_mspy
```

ç„¶åé‡å¯ä¸€ä¸‹ Fcitx5ï¼ˆé€šè¿‡ç³»ç»Ÿæ‰˜ç›˜é‡Œçš„é”®ç›˜å›¾æ ‡å³é”®èœå•é‡Œçš„ Restart ï¼‰å°±å¯ä»¥äº†ã€‚

### Emoji

æ²¡æœ‰ Emoji çš„è¾“å…¥æ³•æ˜¯ä¸å®Œæ•´çš„ï¼Œæˆ‘ä»¬å…ˆå®‰è£… [`rime-emoji`](https://github.com/rime/rime-emoji)ï¼Œç„¶åæŒ‰ç…§æ–‡æ¡£é‡Œçš„è‡ªåŠ©å®‰è£…çš„æ–¹å¼é…ç½®å³å¯ã€‚

> rime-emoji çš„ README æ–‡æ¡£ï¼š
>
> è‡ªåŠ©å®‰è£
>
> 1. ä¸‹è¼‰`opencc`æª”æ¡ˆå¤¾å…§å®¹ï¼Œå°‡å®Œæ•´æª”æ¡ˆå¤¾æ”¾å…¥Rimeç”¨æˆ¶æª”æ¡ˆå¤¾å…§
> 2. å°‡`emoji_suggestion.yaml`å…§çš„å…§å®¹åŠ å…¥è‡³æƒ³æ·»åŠ Emojiçš„æ–¹æ¡ˆcustomæª”ä¸­

ä¹Ÿå°±æ˜¯æŠŠä»£ç ä»“åº“é‡Œ `opencc` æ–‡ä»¶å¤¹ä¸‹çš„ Emoji æ•°æ®å’Œé…ç½®æ–‡ä»¶å¤åˆ¶åˆ° Rime é…ç½®æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åæŠŠ `emoji_suggestion.yaml` çš„å†…å®¹å¤åˆ¶åˆ°è¾“å…¥æ–¹æ¡ˆçš„é…ç½®æ–‡ä»¶é‡Œï¼Œæˆ‘è¿™é‡Œå°±æ˜¯æ–°å¢ä¸€ä¸ª `double_pinyin_mspy.custom.yaml` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```yaml
patch:
  switches/@next:
    name: emoji_suggestion
    reset: 1
    states: [ "ğŸˆšï¸", "ğŸˆ¶ï¸" ]
  'engine/filters/@before 0':
    simplifier@emoji_suggestion
  emoji_suggestion:
    opencc_config: emoji.json
    option_name: emoji_suggestion
    tips: none
    inherit_comment: false
```

é…ç½®ä¹‹å Fcitx é‡å¯ä¸€ä¸‹å°±ğŸ†—ï¸äº†ã€‚

## æ€»ç»“

1. å®‰è£… `fcitx5-rime`ï¼Œ`fcitx5-configtool`ï¼Œ`fcitx5-rime`ï¼Œ`rime-double-pinyin`ï¼Œ`rime-emoji`ï¼›
2. é…ç½® Fcitx5ï¼Œé€šè¿‡ `fcitx5-configtool` æŠŠ Rime æ·»åŠ åˆ°å½“å‰çš„è¾“å…¥æ³•ï¼Œå¯¹åº”çš„é…ç½®æ–‡ä»¶åœ¨ `~/.config/fcitx5/profile`ï¼›
3. é…ç½® Rimeï¼Œåœ¨ Rime é…ç½®ç›®å½•ï¼ˆ`~/.local/share/fcitx5/rime`ï¼‰ä¸‹æ–°å¢é…ç½®æ–‡ä»¶ `default.custom.yaml`ï¼Œè®¾ç½®åŒæ‹¼ä¸ºé»˜è®¤è¾“å…¥æ–¹æ¡ˆã€‚
4. é…ç½® Rimeï¼Œåœ¨ Rime é…ç½®ç›®å½•ä¸‹1).æ”¾ Emoji é…ç½®æ–‡ä»¶ï¼›2).æ–°å¢é…ç½®æ–‡ä»¶ `double_pinyin_mspy.custom.yaml`ï¼Œè®¾ç½®åœ¨è¾“å…¥æ–¹æ¡ˆé‡Œå¢åŠ  Emoji.

Rime è¿˜å¯ä»¥è®¾ç½®å­—å…¸ã€è‡ªå®šä¹‰çŸ­è¯­å’ŒåŒæ­¥ç”¨æˆ·èµ„æ–™ï¼Œä¸è¿‡è¿™äº›æˆ‘åº”è¯¥ç”¨ä¸ç€ï¼Œå°±ä¸å¿…è´¹ç¥äº†ã€‚
